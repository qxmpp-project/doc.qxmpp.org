<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>QXmpp: QXmppHttpUploadManager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">QXmpp
   &#160;<span id="projectnumber">Version: 1.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classQXmppHttpUploadManager-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">QXmppHttpUploadManager Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for QXmppHttpUploadManager:</div>
<div class="dyncontent">
<div class="center"><img src="classQXmppHttpUploadManager__inherit__graph.png" border="0" usemap="#QXmppHttpUploadManager_inherit__map" alt="Inheritance graph"/></div>
<map name="QXmppHttpUploadManager_inherit__map" id="QXmppHttpUploadManager_inherit__map">
<area shape="rect" title=" " alt="" coords="5,155,207,181"/>
<area shape="rect" href="classQXmppClientExtension.html" title="The QXmppClientExtension class is the base class for QXmppClient extensions." alt="" coords="20,80,192,107"/>
<area shape="rect" href="classQXmppLoggable.html" title="The QXmppLoggable class represents a source of logging messages." alt="" coords="41,5,171,32"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for QXmppHttpUploadManager:</div>
<div class="dyncontent">
<div class="center"><img src="classQXmppHttpUploadManager__coll__graph.png" border="0" usemap="#QXmppHttpUploadManager_coll__map" alt="Collaboration graph"/></div>
<map name="QXmppHttpUploadManager_coll__map" id="QXmppHttpUploadManager_coll__map">
<area shape="rect" title=" " alt="" coords="5,155,207,181"/>
<area shape="rect" href="classQXmppClientExtension.html" title="The QXmppClientExtension class is the base class for QXmppClient extensions." alt="" coords="20,80,192,107"/>
<area shape="rect" href="classQXmppLoggable.html" title="The QXmppLoggable class represents a source of logging messages." alt="" coords="41,5,171,32"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a4807af239d24d05ef7f6e81ac5bb92fc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQXmppHttpUploadManager.html#a4807af239d24d05ef7f6e81ac5bb92fc">QXmppHttpUploadManager</a> ()</td></tr>
<tr class="separator:a4807af239d24d05ef7f6e81ac5bb92fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a752200dffac1f124dbd8411cc72fa38f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQXmppHttpUploadManager.html#a752200dffac1f124dbd8411cc72fa38f">QXmppHttpUploadManager</a> (QNetworkAccessManager *netManager)</td></tr>
<tr class="separator:a752200dffac1f124dbd8411cc72fa38f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bc4ec67198d08428ba30a78689dc4b2"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="classQXmppHttpUpload.html">QXmppHttpUpload</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQXmppHttpUploadManager.html#a3bc4ec67198d08428ba30a78689dc4b2">uploadFile</a> (QIODevice *data, const QString &amp;filename, const QMimeType &amp;mimeType, qint64 fileSize=-1, const QString &amp;uploadServiceJid={})</td></tr>
<tr class="separator:a3bc4ec67198d08428ba30a78689dc4b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a18037332b20dac8921204f7ef64c2d"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="classQXmppHttpUpload.html">QXmppHttpUpload</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQXmppHttpUploadManager.html#a6a18037332b20dac8921204f7ef64c2d">uploadFile</a> (const QFileInfo &amp;fileInfo, const QString &amp;filename={}, const QString &amp;uploadServiceJid={})</td></tr>
<tr class="separator:a6a18037332b20dac8921204f7ef64c2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classQXmppClientExtension"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classQXmppClientExtension')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classQXmppClientExtension.html">QXmppClientExtension</a></td></tr>
<tr class="memitem:aec299452688f50431f1028668186e3ec inherit pub_methods_classQXmppClientExtension"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQXmppClientExtension.html#aec299452688f50431f1028668186e3ec">QXmppClientExtension</a> ()</td></tr>
<tr class="separator:aec299452688f50431f1028668186e3ec inherit pub_methods_classQXmppClientExtension"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ef15300fd584457adc40378a3103511 inherit pub_methods_classQXmppClientExtension"><td class="memItemLeft" align="right" valign="top">virtual QStringList&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQXmppClientExtension.html#a3ef15300fd584457adc40378a3103511">discoveryFeatures</a> () const</td></tr>
<tr class="separator:a3ef15300fd584457adc40378a3103511 inherit pub_methods_classQXmppClientExtension"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71a4c2372fa29521c6d9dec1db43a9d4 inherit pub_methods_classQXmppClientExtension"><td class="memItemLeft" align="right" valign="top">virtual QList&lt; <a class="el" href="classQXmppDiscoveryIq_1_1Identity.html">QXmppDiscoveryIq::Identity</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQXmppClientExtension.html#a71a4c2372fa29521c6d9dec1db43a9d4">discoveryIdentities</a> () const</td></tr>
<tr class="separator:a71a4c2372fa29521c6d9dec1db43a9d4 inherit pub_methods_classQXmppClientExtension"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af836e49c31e96854b8d344f29f7e6b54 inherit pub_methods_classQXmppClientExtension"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQXmppClientExtension.html#af836e49c31e96854b8d344f29f7e6b54">handleStanza</a> (const QDomElement &amp;stanza)</td></tr>
<tr class="memdesc:af836e49c31e96854b8d344f29f7e6b54 inherit pub_methods_classQXmppClientExtension"><td class="mdescLeft">&#160;</td><td class="mdescRight">You need to implement this method to process incoming XMPP stanzas.  <a href="classQXmppClientExtension.html#af836e49c31e96854b8d344f29f7e6b54">More...</a><br /></td></tr>
<tr class="separator:af836e49c31e96854b8d344f29f7e6b54 inherit pub_methods_classQXmppClientExtension"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85897e9335e7d15cacbf974caa37459d inherit pub_methods_classQXmppClientExtension"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQXmppClientExtension.html#a85897e9335e7d15cacbf974caa37459d">handleStanza</a> (const QDomElement &amp;stanza, const std::optional&lt; <a class="el" href="classQXmppE2eeMetadata.html">QXmppE2eeMetadata</a> &gt; &amp;e2eeMetadata)</td></tr>
<tr class="memdesc:a85897e9335e7d15cacbf974caa37459d inherit pub_methods_classQXmppClientExtension"><td class="mdescLeft">&#160;</td><td class="mdescRight">You need to implement this method to process incoming XMPP stanzas.  <a href="classQXmppClientExtension.html#a85897e9335e7d15cacbf974caa37459d">More...</a><br /></td></tr>
<tr class="separator:a85897e9335e7d15cacbf974caa37459d inherit pub_methods_classQXmppClientExtension"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classQXmppLoggable"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classQXmppLoggable')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classQXmppLoggable.html">QXmppLoggable</a></td></tr>
<tr class="memitem:ab900d699019726ee43285dc7072a600b inherit pub_methods_classQXmppLoggable"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQXmppLoggable.html#ab900d699019726ee43285dc7072a600b">QXmppLoggable</a> (QObject *parent=nullptr)</td></tr>
<tr class="separator:ab900d699019726ee43285dc7072a600b inherit pub_methods_classQXmppLoggable"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header signals_classQXmppLoggable"><td colspan="2" onclick="javascript:toggleInherit('signals_classQXmppLoggable')"><img src="closed.png" alt="-"/>&#160;Signals inherited from <a class="el" href="classQXmppLoggable.html">QXmppLoggable</a></td></tr>
<tr class="memitem:abed04f600f4625f0d4a32f214c718865 inherit signals_classQXmppLoggable"><td class="memItemLeft" align="right" valign="top"><a id="abed04f600f4625f0d4a32f214c718865"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQXmppLoggable.html#abed04f600f4625f0d4a32f214c718865">setGauge</a> (const QString &amp;gauge, double value)</td></tr>
<tr class="memdesc:abed04f600f4625f0d4a32f214c718865 inherit signals_classQXmppLoggable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the given <em>gauge</em> to <em>value</em>. <br /></td></tr>
<tr class="separator:abed04f600f4625f0d4a32f214c718865 inherit signals_classQXmppLoggable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a403fa46ba15c65da706e8188d4312a05 inherit signals_classQXmppLoggable"><td class="memItemLeft" align="right" valign="top"><a id="a403fa46ba15c65da706e8188d4312a05"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQXmppLoggable.html#a403fa46ba15c65da706e8188d4312a05">logMessage</a> (<a class="el" href="classQXmppLogger.html#a932dbbd4f70a1e9c0ff8f452e61fc9b8">QXmppLogger::MessageType</a> type, const QString &amp;msg)</td></tr>
<tr class="memdesc:a403fa46ba15c65da706e8188d4312a05 inherit signals_classQXmppLoggable"><td class="mdescLeft">&#160;</td><td class="mdescRight">This signal is emitted to send logging messages. <br /></td></tr>
<tr class="separator:a403fa46ba15c65da706e8188d4312a05 inherit signals_classQXmppLoggable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa309eaea9699e7fe652a400cef346ae2 inherit signals_classQXmppLoggable"><td class="memItemLeft" align="right" valign="top"><a id="aa309eaea9699e7fe652a400cef346ae2"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQXmppLoggable.html#aa309eaea9699e7fe652a400cef346ae2">updateCounter</a> (const QString &amp;counter, qint64 amount=1)</td></tr>
<tr class="memdesc:aa309eaea9699e7fe652a400cef346ae2 inherit signals_classQXmppLoggable"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the given <em>counter</em> by <em>amount</em>. <br /></td></tr>
<tr class="separator:aa309eaea9699e7fe652a400cef346ae2 inherit signals_classQXmppLoggable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classQXmppClientExtension"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classQXmppClientExtension')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classQXmppClientExtension.html">QXmppClientExtension</a></td></tr>
<tr class="memitem:a2476cb1a20963d15d45d39f24a0c1198 inherit pro_methods_classQXmppClientExtension"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classQXmppClient.html">QXmppClient</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQXmppClientExtension.html#a2476cb1a20963d15d45d39f24a0c1198">client</a> ()</td></tr>
<tr class="separator:a2476cb1a20963d15d45d39f24a0c1198 inherit pro_methods_classQXmppClientExtension"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a166f42a22447341abb26bd9c44c97590 inherit pro_methods_classQXmppClientExtension"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQXmppClientExtension.html#a166f42a22447341abb26bd9c44c97590">setClient</a> (<a class="el" href="classQXmppClient.html">QXmppClient</a> *<a class="el" href="classQXmppClientExtension.html#a2476cb1a20963d15d45d39f24a0c1198">client</a>)</td></tr>
<tr class="separator:a166f42a22447341abb26bd9c44c97590 inherit pro_methods_classQXmppClientExtension"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93b0da72a5437f933d633ba797e58d7c inherit pro_methods_classQXmppClientExtension"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQXmppClientExtension.html#a93b0da72a5437f933d633ba797e58d7c">injectIq</a> (const QDomElement &amp;element, const std::optional&lt; <a class="el" href="classQXmppE2eeMetadata.html">QXmppE2eeMetadata</a> &gt; &amp;e2eeMetadata)</td></tr>
<tr class="separator:a93b0da72a5437f933d633ba797e58d7c inherit pro_methods_classQXmppClientExtension"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8e0d6429cd1b9bbb24be7debf3263af inherit pro_methods_classQXmppClientExtension"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQXmppClientExtension.html#ae8e0d6429cd1b9bbb24be7debf3263af">injectMessage</a> (<a class="el" href="classQXmppMessage.html">QXmppMessage</a> &amp;&amp;message)</td></tr>
<tr class="separator:ae8e0d6429cd1b9bbb24be7debf3263af inherit pro_methods_classQXmppClientExtension"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classQXmppLoggable"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classQXmppLoggable')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classQXmppLoggable.html">QXmppLoggable</a></td></tr>
<tr class="memitem:adf78baaf99fba802edaa791fbbd34236 inherit pro_methods_classQXmppLoggable"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQXmppLoggable.html#adf78baaf99fba802edaa791fbbd34236">debug</a> (const QString &amp;message)</td></tr>
<tr class="separator:adf78baaf99fba802edaa791fbbd34236 inherit pro_methods_classQXmppLoggable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab26d53408f7ecc53a776fe2499021e03 inherit pro_methods_classQXmppLoggable"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQXmppLoggable.html#ab26d53408f7ecc53a776fe2499021e03">info</a> (const QString &amp;message)</td></tr>
<tr class="separator:ab26d53408f7ecc53a776fe2499021e03 inherit pro_methods_classQXmppLoggable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed6488cb2ca9c636876e2444c635bd72 inherit pro_methods_classQXmppLoggable"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQXmppLoggable.html#aed6488cb2ca9c636876e2444c635bd72">warning</a> (const QString &amp;message)</td></tr>
<tr class="separator:aed6488cb2ca9c636876e2444c635bd72 inherit pro_methods_classQXmppLoggable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcb384597aa4cdee1dad7d2ec50871f4 inherit pro_methods_classQXmppLoggable"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQXmppLoggable.html#afcb384597aa4cdee1dad7d2ec50871f4">logReceived</a> (const QString &amp;message)</td></tr>
<tr class="separator:afcb384597aa4cdee1dad7d2ec50871f4 inherit pro_methods_classQXmppLoggable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50feb6fc691e90ba6b2e69c2a9aea794 inherit pro_methods_classQXmppLoggable"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQXmppLoggable.html#a50feb6fc691e90ba6b2e69c2a9aea794">logSent</a> (const QString &amp;message)</td></tr>
<tr class="separator:a50feb6fc691e90ba6b2e69c2a9aea794 inherit pro_methods_classQXmppLoggable"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The upload manager allows to upload a file to a server via <a href="https://xmpp.org/extensions/xep-0363.html">XEP-0363: HTTP File Upload</a>. This can be used for sending files to other users.</p>
<p><a class="el" href="classQXmppHttpUploadManager.html">QXmppHttpUploadManager</a> depends on <a class="el" href="classQXmppUploadRequestManager.html" title="The QXmppUploadRequestManager implements the core of XEP-0369: HTTP File Upload.">QXmppUploadRequestManager</a>. You can enable them using </p><div class="fragment"><div class="line"><a class="code" href="classQXmppClientExtension.html#a2476cb1a20963d15d45d39f24a0c1198">client</a>.<a class="code" href="classQXmppClient.html#ab6df7c877500e1548ffb351c46ae48e4">addNewExtension</a>&lt;<a class="code" href="classQXmppUploadRequestManager.html">QXmppUploadRequestManager</a>&gt;();</div>
<div class="line"><span class="keyword">auto</span> *uploadManager = <a class="code" href="classQXmppClientExtension.html#a2476cb1a20963d15d45d39f24a0c1198">client</a>.<a class="code" href="classQXmppClient.html#ab6df7c877500e1548ffb351c46ae48e4">addNewExtension</a>&lt;<a class="code" href="classQXmppHttpUploadManager.html">QXmppHttpUploadManager</a>&gt;();</div>
</div><!-- fragment --><dl class="section since"><dt>Since</dt><dd><a class="el" href="namespaceQXmpp.html">QXmpp</a> 1.5 </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a4807af239d24d05ef7f6e81ac5bb92fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4807af239d24d05ef7f6e81ac5bb92fc">&#9670;&nbsp;</a></span>QXmppHttpUploadManager() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QXmppHttpUploadManager::QXmppHttpUploadManager </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Constructor</p>
<p>Creates and uses a new network access manager. </p>

</div>
</div>
<a id="a752200dffac1f124dbd8411cc72fa38f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a752200dffac1f124dbd8411cc72fa38f">&#9670;&nbsp;</a></span>QXmppHttpUploadManager() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QXmppHttpUploadManager::QXmppHttpUploadManager </td>
          <td>(</td>
          <td class="paramtype">QNetworkAccessManager *&#160;</td>
          <td class="paramname"><em>netManager</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Constructor</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">netManager</td><td>shared network access manager, needs to have at least the lifetime of this manager. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a6a18037332b20dac8921204f7ef64c2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a18037332b20dac8921204f7ef64c2d">&#9670;&nbsp;</a></span>uploadFile() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; <a class="el" href="classQXmppHttpUpload.html">QXmppHttpUpload</a> &gt; QXmppHttpUploadManager::uploadFile </td>
          <td>(</td>
          <td class="paramtype">const QFileInfo &amp;&#160;</td>
          <td class="paramname"><em>fileInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>filename</em> = <code>{}</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>uploadServiceJid</em> = <code>{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Upload data from a local file.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fileInfo</td><td>QFileInfo about a local file </td></tr>
    <tr><td class="paramname">filename</td><td>filename How the file on the server should be called. This is commonly used as last part of the resulting url. </td></tr>
    <tr><td class="paramname">uploadServiceJid</td><td>optionally, the jid from which an upload url can be requested (upload service) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>an object representing the ongoing upload. The object is passed as a shared_ptr, which means it will be stored as long as there is a reference to it. While this avoids errors from accessing it after it was deleted, you should try not store it unneccesarily long to keep the memory usage down. You can for example use std::weak_ptr to not increase the lifetime, for example when capturing in long living lambdas, for example in connects. You should also make sure to use the 4-arg QObject::connect, so the connection and the connected lambda can be deleted after the upload finished. <div class="fragment"><div class="line">std::weak_ptr&lt;QXmppHttpUpload&gt; uploadPtr = upload;</div>
<div class="line">connect(upload.get(), &amp;<a class="code" href="classQXmppHttpUpload.html#a712463da348c321c052dd2f229700609">QXmppHttpUpload::progressChanged</a>, <span class="keyword">this</span>, [uploadPtr]() {</div>
<div class="line">    auto upload = uploadPtr.lock();</div>
<div class="line">    if (upload) {</div>
<div class="line">        qDebug() &lt;&lt; upload-&gt;progress();</div>
<div class="line">    }</div>
<div class="line">});</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<a id="a3bc4ec67198d08428ba30a78689dc4b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3bc4ec67198d08428ba30a78689dc4b2">&#9670;&nbsp;</a></span>uploadFile() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; <a class="el" href="classQXmppHttpUpload.html">QXmppHttpUpload</a> &gt; QXmppHttpUploadManager::uploadFile </td>
          <td>(</td>
          <td class="paramtype">QIODevice *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QMimeType &amp;&#160;</td>
          <td class="paramname"><em>mimeType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">qint64&#160;</td>
          <td class="paramname"><em>fileSize</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>uploadServiceJid</em> = <code>{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Uploads the data from a QIODevice.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>QIODevice to read the data from. This can for example be a QFile. It can be sequential or non-sequential. </td></tr>
    <tr><td class="paramname">filename</td><td>How the file on the server should be called. This is commonly used as last part of the resulting url. </td></tr>
    <tr><td class="paramname">fileSize</td><td>The size of the file, in byte. If negative the size from the IO device is used. </td></tr>
    <tr><td class="paramname">mimeType</td><td>The mime type of the file </td></tr>
    <tr><td class="paramname">uploadServiceJid</td><td>optionally, the jid from which an upload url can be requested (upload service) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>an object representing the ongoing upload. The object is passed as a shared_ptr, which means it will be stored as long as there is a reference to it. While this avoids errors from accessing it after it was deleted, you should try not store it unneccesarily long to keep the memory usage down. You can for example use std::weak_ptr to not increase the lifetime, for example when capturing in long living lambdas, for example in connects. You should also make sure to use the 4-arg QObject::connect, so the connection and the connected lambda can be deleted after the upload finished. <div class="fragment"><div class="line">std::weak_ptr&lt;QXmppHttpUpload&gt; uploadPtr = upload;</div>
<div class="line">connect(upload.get(), &amp;<a class="code" href="classQXmppHttpUpload.html#a712463da348c321c052dd2f229700609">QXmppHttpUpload::progressChanged</a>, <span class="keyword">this</span>, [uploadPtr]() {</div>
<div class="line">    auto upload = uploadPtr.lock();</div>
<div class="line">    if (upload) {</div>
<div class="line">        qDebug() &lt;&lt; upload-&gt;progress();</div>
<div class="line">    }</div>
<div class="line">});</div>
</div><!-- fragment --> </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="QXmppHttpUploadManager_8h_source.html">QXmppHttpUploadManager.h</a></li>
<li>QXmppHttpUploadManager.cpp</li>
</ul>
</div><!-- contents -->
<div class="ttc" id="aclassQXmppClient_html_ab6df7c877500e1548ffb351c46ae48e4"><div class="ttname"><a href="classQXmppClient.html#ab6df7c877500e1548ffb351c46ae48e4">QXmppClient::addNewExtension</a></div><div class="ttdeci">T * addNewExtension(Args... args)</div><div class="ttdef"><b>Definition:</b> QXmppClient.h:129</div></div>
<div class="ttc" id="aclassQXmppHttpUpload_html_a712463da348c321c052dd2f229700609"><div class="ttname"><a href="classQXmppHttpUpload.html#a712463da348c321c052dd2f229700609">QXmppHttpUpload::progressChanged</a></div><div class="ttdeci">Q_SIGNAL void progressChanged()</div></div>
<div class="ttc" id="aclassQXmppClientExtension_html_a2476cb1a20963d15d45d39f24a0c1198"><div class="ttname"><a href="classQXmppClientExtension.html#a2476cb1a20963d15d45d39f24a0c1198">QXmppClientExtension::client</a></div><div class="ttdeci">QXmppClient * client()</div><div class="ttdef"><b>Definition:</b> QXmppClientExtension.cpp:87</div></div>
<div class="ttc" id="aclassQXmppUploadRequestManager_html"><div class="ttname"><a href="classQXmppUploadRequestManager.html">QXmppUploadRequestManager</a></div><div class="ttdoc">The QXmppUploadRequestManager implements the core of XEP-0369: HTTP File Upload.</div><div class="ttdef"><b>Definition:</b> QXmppUploadRequestManager.h:82</div></div>
<div class="ttc" id="aclassQXmppHttpUploadManager_html"><div class="ttname"><a href="classQXmppHttpUploadManager.html">QXmppHttpUploadManager</a></div><div class="ttdef"><b>Definition:</b> QXmppHttpUploadManager.h:57</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
