<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>QXmpp: QXmppPubSubItem Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">QXmpp
   &#160;<span id="projectnumber">Version: 1.5.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-static-methods">Static Protected Member Functions</a> &#124;
<a href="classQXmppPubSubItem-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">QXmppPubSubItem Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for QXmppPubSubItem:</div>
<div class="dyncontent">
<div class="center"><img src="classQXmppPubSubItem__inherit__graph.png" border="0" usemap="#QXmppPubSubItem_inherit__map" alt="Inheritance graph"/></div>
<map name="QXmppPubSubItem_inherit__map" id="QXmppPubSubItem_inherit__map">
<area shape="rect" title=" " alt="" coords="5,5,153,32"/>
<area shape="rect" href="classQXmppTuneItem.html" title=" " alt="" coords="14,80,145,107"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a7fe9e8af9ebd344864dff2503ada8d3a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQXmppPubSubItem.html#a7fe9e8af9ebd344864dff2503ada8d3a">QXmppPubSubItem</a> (const QString &amp;<a class="el" href="classQXmppPubSubItem.html#a43ee7c7bbfbb983281084c30c543824c">id</a>={}, const QString &amp;<a class="el" href="classQXmppPubSubItem.html#a864d64c3498aafb3dcd311e4aa246464">publisher</a>={})</td></tr>
<tr class="separator:a7fe9e8af9ebd344864dff2503ada8d3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64775d509bdb0eb2c8548479923854c9"><td class="memItemLeft" align="right" valign="top"><a id="a64775d509bdb0eb2c8548479923854c9"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQXmppPubSubItem.html#a64775d509bdb0eb2c8548479923854c9">QXmppPubSubItem</a> (const <a class="el" href="classQXmppPubSubItem.html">QXmppPubSubItem</a> &amp;)</td></tr>
<tr class="memdesc:a64775d509bdb0eb2c8548479923854c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default copy-constructor. <br /></td></tr>
<tr class="separator:a64775d509bdb0eb2c8548479923854c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add009c3e486e1ab9920fadfdfdacf043"><td class="memItemLeft" align="right" valign="top"><a id="add009c3e486e1ab9920fadfdfdacf043"></a>
<a class="el" href="classQXmppPubSubItem.html">QXmppPubSubItem</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQXmppPubSubItem.html#add009c3e486e1ab9920fadfdfdacf043">operator=</a> (const <a class="el" href="classQXmppPubSubItem.html">QXmppPubSubItem</a> &amp;)</td></tr>
<tr class="memdesc:add009c3e486e1ab9920fadfdfdacf043"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default assignment operator. <br /></td></tr>
<tr class="separator:add009c3e486e1ab9920fadfdfdacf043"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43ee7c7bbfbb983281084c30c543824c"><td class="memItemLeft" align="right" valign="top">QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQXmppPubSubItem.html#a43ee7c7bbfbb983281084c30c543824c">id</a> () const</td></tr>
<tr class="separator:a43ee7c7bbfbb983281084c30c543824c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e3419b22bd11e146d99447c948e7014"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQXmppPubSubItem.html#a0e3419b22bd11e146d99447c948e7014">setId</a> (const QString &amp;<a class="el" href="classQXmppPubSubItem.html#a43ee7c7bbfbb983281084c30c543824c">id</a>)</td></tr>
<tr class="separator:a0e3419b22bd11e146d99447c948e7014"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a864d64c3498aafb3dcd311e4aa246464"><td class="memItemLeft" align="right" valign="top">QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQXmppPubSubItem.html#a864d64c3498aafb3dcd311e4aa246464">publisher</a> () const</td></tr>
<tr class="separator:a864d64c3498aafb3dcd311e4aa246464"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a147a220436f2a5ab74345081d46ba747"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQXmppPubSubItem.html#a147a220436f2a5ab74345081d46ba747">setPublisher</a> (const QString &amp;<a class="el" href="classQXmppPubSubItem.html#a864d64c3498aafb3dcd311e4aa246464">publisher</a>)</td></tr>
<tr class="separator:a147a220436f2a5ab74345081d46ba747"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a34dec8e72fd5b2522e133948ae87691e"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQXmppPubSubItem.html#a34dec8e72fd5b2522e133948ae87691e">isItem</a> (const QDomElement &amp;element)</td></tr>
<tr class="separator:a34dec8e72fd5b2522e133948ae87691e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a8e9ed54ba306e879194ce1e655fa24f9"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQXmppPubSubItem.html#a8e9ed54ba306e879194ce1e655fa24f9">parsePayload</a> (const QDomElement &amp;payloadElement)</td></tr>
<tr class="separator:a8e9ed54ba306e879194ce1e655fa24f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae07d0ea430be71b583f0317edbef525f"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQXmppPubSubItem.html#ae07d0ea430be71b583f0317edbef525f">serializePayload</a> (QXmlStreamWriter *writer) const</td></tr>
<tr class="separator:ae07d0ea430be71b583f0317edbef525f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-static-methods"></a>
Static Protected Member Functions</h2></td></tr>
<tr class="memitem:abbdc6923ffdac138a9b9a89aecba46a3"><td class="memTemplParams" colspan="2">template&lt;typename PayloadChecker &gt; </td></tr>
<tr class="memitem:abbdc6923ffdac138a9b9a89aecba46a3"><td class="memTemplItemLeft" align="right" valign="top">static bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classQXmppPubSubItem.html#abbdc6923ffdac138a9b9a89aecba46a3">isItem</a> (const QDomElement &amp;element, PayloadChecker isPayloadValid)</td></tr>
<tr class="separator:abbdc6923ffdac138a9b9a89aecba46a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The <a class="el" href="classQXmppPubSubItem.html">QXmppPubSubItem</a> class represents a publish-subscribe item as defined by <a href="https://xmpp.org/extensions/xep-0060.html">XEP-0060: Publish-Subscribe</a>.</p>
<p>To access the payload of an item, you need to create a derived class of this and override <a class="el" href="classQXmppPubSubItem.html#a8e9ed54ba306e879194ce1e655fa24f9">QXmppPubSubItem::parsePayload()</a> and <a class="el" href="classQXmppPubSubItem.html#ae07d0ea430be71b583f0317edbef525f">QXmppPubSubItem::serializePayload()</a>.</p>
<p>It is also required that you override <a class="el" href="classQXmppPubSubItem.html#a34dec8e72fd5b2522e133948ae87691e">QXmppPubSubItem::isItem()</a> and also check for the correct payload of the PubSub item. This can be easily done by using the protected overload of <a class="el" href="classQXmppPubSubItem.html#a34dec8e72fd5b2522e133948ae87691e">isItem()</a> with an function that checks the tag name and namespace of the payload. The function is only called if a payload exists.</p>
<p>In short, you need to reimplement these methods:</p><ul>
<li><a class="el" href="classQXmppPubSubItem.html#a8e9ed54ba306e879194ce1e655fa24f9">QXmppPubSubItem::parsePayload()</a></li>
<li><a class="el" href="classQXmppPubSubItem.html#ae07d0ea430be71b583f0317edbef525f">QXmppPubSubItem::serializePayload()</a></li>
<li><a class="el" href="classQXmppPubSubItem.html#a34dec8e72fd5b2522e133948ae87691e">QXmppPubSubItem::isItem()</a></li>
</ul>
<dl class="section since"><dt>Since</dt><dd><a class="el" href="namespaceQXmpp.html">QXmpp</a> 1.5 </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a7fe9e8af9ebd344864dff2503ada8d3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7fe9e8af9ebd344864dff2503ada8d3a">&#9670;&nbsp;</a></span>QXmppPubSubItem()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QXmppPubSubItem::QXmppPubSubItem </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>id</em> = <code>{}</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>publisher</em> = <code>{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Constructs an item with <em>id</em> and <em>publisher</em>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td></td></tr>
    <tr><td class="paramname">publisher</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a43ee7c7bbfbb983281084c30c543824c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43ee7c7bbfbb983281084c30c543824c">&#9670;&nbsp;</a></span>id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QString QXmppPubSubItem::id </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the ID of the PubSub item. </p>

</div>
</div>
<a id="a34dec8e72fd5b2522e133948ae87691e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34dec8e72fd5b2522e133948ae87691e">&#9670;&nbsp;</a></span>isItem() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool QXmppPubSubItem::isItem </td>
          <td>(</td>
          <td class="paramtype">const QDomElement &amp;&#160;</td>
          <td class="paramname"><em>element</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns true, if the element is possibly a PubSub item. </p>

</div>
</div>
<a id="abbdc6923ffdac138a9b9a89aecba46a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abbdc6923ffdac138a9b9a89aecba46a3">&#9670;&nbsp;</a></span>isItem() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename PayloadChecker &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool QXmppPubSubItem::isItem </td>
          <td>(</td>
          <td class="paramtype">const QDomElement &amp;&#160;</td>
          <td class="paramname"><em>element</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">PayloadChecker&#160;</td>
          <td class="paramname"><em>isPayloadValid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns true, if the element is a valid PubSub item and (if existant) the payload is correct.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">element</td><td>The element to be checked to be an &lt;item/&gt; element. </td></tr>
    <tr><td class="paramname">isPayloadValid</td><td>A function that validates the payload element (first child element). The functions needs to return true, if the payload is valid. In case there is no payload, the function is not called.</td></tr>
  </table>
  </dd>
</dl>
<p>Here is an example covering how this could be used to check for the <a href="https://xmpp.org/extensions/xep-0118.html">XEP-0118: User Tune</a> payload: </p><div class="fragment"><div class="line"><span class="keyword">auto</span> isPayloadValid = [](<span class="keyword">const</span> QDomElement &amp;payload) -&gt; <span class="keywordtype">bool</span> {</div>
<div class="line">    <span class="keywordflow">return</span> payload.tagName() == <span class="stringliteral">&quot;tune&quot;</span> &amp;&amp; payload.namespaceURI() == ns_tune;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">bool</span> valid = <a class="code" href="classQXmppPubSubItem.html#a34dec8e72fd5b2522e133948ae87691e">QXmppPubSubItem::isItem</a>(itemElement, isPayloadValid);</div>
</div><!-- fragment --> 
</div>
</div>
<a id="a8e9ed54ba306e879194ce1e655fa24f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e9ed54ba306e879194ce1e655fa24f9">&#9670;&nbsp;</a></span>parsePayload()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void QXmppPubSubItem::parsePayload </td>
          <td>(</td>
          <td class="paramtype">const QDomElement &amp;&#160;</td>
          <td class="paramname"><em>payloadElement</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Parses the payload of the item (the child element of the &lt;item/&gt;).</p>
<p>This method needs to be overriden to perform the payload-specific parsing. </p>

</div>
</div>
<a id="a864d64c3498aafb3dcd311e4aa246464"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a864d64c3498aafb3dcd311e4aa246464">&#9670;&nbsp;</a></span>publisher()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QString QXmppPubSubItem::publisher </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the JID of the publisher of the item. </p>

</div>
</div>
<a id="ae07d0ea430be71b583f0317edbef525f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae07d0ea430be71b583f0317edbef525f">&#9670;&nbsp;</a></span>serializePayload()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void QXmppPubSubItem::serializePayload </td>
          <td>(</td>
          <td class="paramtype">QXmlStreamWriter *&#160;</td>
          <td class="paramname"><em>writer</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Serializes the payload of the item (the child element of the &lt;item/&gt;).</p>
<p>This method needs to be overriden to perform the payload-specific serialization. </p>

</div>
</div>
<a id="a0e3419b22bd11e146d99447c948e7014"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e3419b22bd11e146d99447c948e7014">&#9670;&nbsp;</a></span>setId()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QXmppPubSubItem::setId </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the ID of the PubSub item.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a147a220436f2a5ab74345081d46ba747"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a147a220436f2a5ab74345081d46ba747">&#9670;&nbsp;</a></span>setPublisher()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QXmppPubSubItem::setPublisher </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>publisher</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the JID of the publisher of the item. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="QXmppPubSubItem_8h_source.html">QXmppPubSubItem.h</a></li>
<li>QXmppPubSubItem.cpp</li>
</ul>
</div><!-- contents -->
<div class="ttc" id="aclassQXmppPubSubItem_html_a34dec8e72fd5b2522e133948ae87691e"><div class="ttname"><a href="classQXmppPubSubItem.html#a34dec8e72fd5b2522e133948ae87691e">QXmppPubSubItem::isItem</a></div><div class="ttdeci">static bool isItem(const QDomElement &amp;element)</div><div class="ttdef"><b>Definition:</b> QXmppPubSubItem.cpp:128</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
